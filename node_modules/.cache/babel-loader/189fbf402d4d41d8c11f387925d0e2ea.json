{"ast":null,"code":"import _regeneratorRuntime from\"/home/tgim4253/node/daegeon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tgim4253/node/daegeon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tgim4253/node/daegeon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{authService}from\"../myBase\";import React,{useState}from\"react\";import\"../css/Auth.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default(function(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLogIn=_useState6[0],setIsLogIn=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var toResister=function toResister(){return setIsLogIn(function(prev){return!prev;});};var checkLogIn=function checkLogIn(){if(isLogIn)return;var form=document.login_form;var inform={\"email\":\"tgim4253@pess.cnehs.kr\",\"code\":\"1234\"};var chkPw=checkValidPassword(form);var chkEmail=form.email.value===inform.email;var chkCode=form.confirm_code.value===inform.code;var chkPw2=checkValidPassword2(form);if(chkEmail){document.getElementById('alert_email').innerText=\"\";form.email.style.border='2px solid';form.email.style.borderColor='#00D000';}else{form.email.style.border='2px solid';form.email.style.borderColor='#FF0000';document.getElementById('alert_email').style.color='#FF0000';}if(chkPw){document.getElementById('alert_password').innerText=\"\";form.password.style.border='2px solid';form.password.style.borderColor='#00D000';}else{form.password.style.border='2px solid';form.password.style.borderColor='#FF0000';document.getElementById('alert_password').style.color='#FF0000';}if(chkCode){document.getElementById('alert_code').innerText=\"\";form.confirm_code.style.border='2px solid';form.confirm_code.style.borderColor='#00D000';}else{form.confirm_code.style.border='2px solid';form.confirm_code.style.borderColor='#FF0000';document.getElementById('alert_code').style.color='#FF0000';}if(chkPw2){document.getElementById('alert_password2').innerText=\"\";form.password2.style.border='2px solid';form.password2.style.borderColor='#00D000';}else{form.password2.style.border='2px solid';form.password2.style.borderColor='#FF0000';document.getElementById('alert_password2').style.color='#FF0000';}return chkEmail&&chkPw&&chkPw2&&chkCode;};function checkValidPassword(form){if(form.password.value==\"\"){document.getElementById('alert_password').innerText=\"Please enter password.\";//form.password.focus();\nreturn false;}var pw=form.password.value;// String.prototype.search() :: 검색된 문자열 중에 첫 번째로 매치되는 것의 인덱스를 반환한다. 찾지 못하면 -1 을 반환한다.\n// number\nvar num=pw.search(/[0-9]/g);// alphabet\nvar eng=pw.search(/[a-z]/ig);// special characters\nvar spe=pw.search(/[`~!@@#$%^&*|₩₩₩'₩\";:₩/?]/gi);if(pw.length<6){// 최소 6문자.\ndocument.getElementById('alert_password').innerText=\"Password must be at least 6 characters.\";return false;}else if(pw.search(/\\s/)!=-1){// 공백 제거.\ndocument.getElementById('alert_password').innerText=\"Please enter your password without spaces.\";return false;}else if(num<0&&eng<0&&spe<0){// 한글과 같은 문자열 입력 방지.\ndocument.getElementById('alert_password').innerText=\"Password is not valid.\";return false;}return true;}function checkValidPassword2(form){if(form.password2.value==\"\"){document.getElementById('alert_password2').innerText=\"Password2 is required.\";//form.password.focus();\nreturn false;}if(form.password.value!==form.password2.value){document.getElementById('alert_password2').innerText=\"Password and password2 is not match.\";form.password.style.border='2px solid';form.password.style.borderColor='#FF0000';document.getElementById('alert_password').style.color='#FF0000';return false;}return true;}return/*#__PURE__*/_jsx(\"div\",{id:\"container\",className:\"main_container\",children:isLogIn?/*#__PURE__*/_jsx(Login,{resister:toResister,checkLogIn:checkLogIn}):/*#__PURE__*/_jsx(Resister,{resister:toResister,checkLogIn:checkLogIn})});});var Resister=function Resister(_ref){var resister=_ref.resister,checkLogIn=_ref.checkLogIn;var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var form,email,password,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();form=document.login_form;email=form.email.value;password=form.password.value;if(!checkLogIn()){_context.next=14;break;}_context.prev=5;_context.next=8;return authService.createUserWithEmailAndPassword(email,password);case 8:data=_context.sent;_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](5);console.log(_context.t0.message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[5,11]]);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:\" 30p\"}}),/*#__PURE__*/_jsxs(\"form\",{name:\"login_form\",action:\"/cookie\",method:\"get\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form_title_div\",children:/*#__PURE__*/_jsx(\"p\",{className:\"form_title_p\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"confirm_code\",placeholder:\"\\uC778\\uC99D \\uCF54\\uB4DC\",className:\"re-form_input\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_text_alert_padding\",children:/*#__PURE__*/_jsx(\"div\",{id:\"alert_code\",className:\"form_text_alert\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",placeholder:\"\\uC544\\uC774\\uB514\",className:\"re-form_input\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_text_alert_padding\",children:/*#__PURE__*/_jsx(\"div\",{id:\"alert_email\",className:\"form_text_alert\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",className:\"re-form_input\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_text_alert_padding\",children:/*#__PURE__*/_jsx(\"div\",{id:\"alert_password\",className:\"form_text_alert\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password2\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uC7AC\\uC785\\uB825\",className:\"re-form_input\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_text_alert_padding\",children:/*#__PURE__*/_jsx(\"div\",{id:\"alert_password2\",className:\"form_text_alert\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"10px\"}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"form_submitregister_button\",onClick:onSubmit,children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"10px\"}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"form_register_button\",onClick:resister,children:\"\\uB85C\\uADF8\\uC778\"})})]})]});};var Login=function Login(_ref3){var resister=_ref3.resister,checkLogIn=_ref3.checkLogIn;var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),id=_useState10[0],setId=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),password=_useState12[0],setPassword=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),error=_useState14[0],setError=_useState14[1];var onSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var data,_data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.prev=1;_context2.next=4;return authService.signInWithEmailAndPassword(id,password);case 4:_data=_context2.sent;_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0.message);setError(_context2.t0.message);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,7]]);}));return function onSubmit(_x2){return _ref4.apply(this,arguments);};}();var onChange=function onChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;if(name===\"email\"){setId(value);}else if(name===\"password\"){setPassword(value);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:\"70px\"}}),/*#__PURE__*/_jsxs(\"form\",{name:\"login_form\",submit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form_title_div\",children:/*#__PURE__*/_jsx(\"p\",{className:\"form_title_p\",children:\"\\uB85C\\uADF8\\uC778\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:id,placeholder:\"\\uC544\\uC774\\uB514\",className:\"form_input\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_text_alert_paddings\",children:/*#__PURE__*/_jsx(\"div\",{id:\"alert_email\",className:\"form_text_alert\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",className:\"form_input\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_text_alert_padding\",children:/*#__PURE__*/_jsx(\"div\",{id:\"alert_password\",className:\"form_text_alert\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"10px\"}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"form_submit_button\",onClick:onSubmit,children:\"\\uB85C\\uADF8\\uC778\"})}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"10px\"}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"form_register_button\",onClick:resister,children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"10px\"}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"form_findpasswd_button\",children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"})})]})]});};","map":{"version":3,"sources":["/home/tgim4253/node/daegeon/src/routes/Auth.js"],"names":["authService","React","useState","email","setEmail","password","setPassword","isLogIn","setIsLogIn","error","setError","toResister","prev","checkLogIn","form","document","login_form","inform","chkPw","checkValidPassword","chkEmail","value","chkCode","confirm_code","code","chkPw2","checkValidPassword2","getElementById","innerText","style","border","borderColor","color","password2","pw","num","search","eng","spe","length","Resister","resister","onSubmit","event","preventDefault","createUserWithEmailAndPassword","data","console","log","message","padding","height","Login","id","setId","signInWithEmailAndPassword","onChange","target","name"],"mappings":"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","sourcesContent":["import { authService } from \"../myBase\";\nimport React, { useState } from \"react\";\nimport \"../css/Auth.css\"\n\n\n\n\nexport default () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLogIn,setIsLogIn] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  \n  const toResister = () => setIsLogIn((prev)=>!prev)\n  \n  \n  const checkLogIn = () => {\n  if(isLogIn)\n  \treturn;\n  \t const form = document.login_form;\n\t const inform ={\n\t \t\"email\": \"tgim4253@pess.cnehs.kr\",\n\t\t\"code\":\"1234\" \n\t }\n    const chkPw = checkValidPassword(form);\n\t const chkEmail = form.email.value === inform.email;\n\t const chkCode = form.confirm_code.value === inform.code;\n\t let chkPw2 = checkValidPassword2(form);\n\t \n\n\n\tif (chkEmail) {\n        document.getElementById('alert_email').innerText = \"\";\n        form.email.style.border = '2px solid';\n        form.email.style.borderColor = '#00D000';\n    } else {\n        form.email.style.border = '2px solid';\n        form.email.style.borderColor = '#FF0000';\n        document.getElementById('alert_email').style.color = '#FF0000';\n    }\n    \n\n    if (chkPw) {\n        document.getElementById('alert_password').innerText = \"\";\n        form.password.style.border = '2px solid';\n        form.password.style.borderColor = '#00D000';\n    } else {\n        form.password.style.border = '2px solid';\n        form.password.style.borderColor = '#FF0000';\n        document.getElementById('alert_password').style.color = '#FF0000';\n    }\n\t if (chkCode) {\n        document.getElementById('alert_code').innerText = \"\";\n        form.confirm_code.style.border = '2px solid';\n        form.confirm_code.style.borderColor = '#00D000';\n    } else {\n        form.confirm_code.style.border = '2px solid';\n        form.confirm_code.style.borderColor = '#FF0000';\n        document.getElementById('alert_code').style.color = '#FF0000';\n    }\n    if (chkPw2) {\n        document.getElementById('alert_password2').innerText = \"\";\n        form.password2.style.border = '2px solid';\n        form.password2.style.borderColor = '#00D000';\n    } else {\n        form.password2.style.border = '2px solid';\n        form.password2.style.borderColor = '#FF0000';\n        document.getElementById('alert_password2').style.color = '#FF0000';\n    }\n    return(chkEmail && chkPw && chkPw2 && chkCode)\n  }\n  \n  \nfunction checkValidPassword(form) {\n    if (form.password.value == \"\") {\n        document.getElementById('alert_password').innerText = \"Please enter password.\";\n        //form.password.focus();\n        return false;\n    }\n\n    const pw = form.password.value;\n    // String.prototype.search() :: 검색된 문자열 중에 첫 번째로 매치되는 것의 인덱스를 반환한다. 찾지 못하면 -1 을 반환한다.\n    // number\n    const num = pw.search(/[0-9]/g);\n    // alphabet\n    const eng = pw.search(/[a-z]/ig);\n    // special characters\n    const spe = pw.search(/[`~!@@#$%^&*|₩₩₩'₩\";:₩/?]/gi);\n\n    if (pw.length < 6) {\n        // 최소 6문자.\n        document.getElementById('alert_password').innerText = \"Password must be at least 6 characters.\";\n        return false;\n    } else if (pw.search(/\\s/) != -1) {\n        // 공백 제거.\n        document.getElementById('alert_password').innerText = \"Please enter your password without spaces.\";\n        return false;\n    } else if (num < 0 && eng < 0 && spe < 0) {\n        // 한글과 같은 문자열 입력 방지.\n        document.getElementById('alert_password').innerText = \"Password is not valid.\";\n        return false;\n    }\n\n    return true;\n}\n\nfunction checkValidPassword2(form) {\n    if (form.password2.value == \"\") {\n        document.getElementById('alert_password2').innerText = \"Password2 is required.\";\n        //form.password.focus();\n        return false;\n    }\n\n    if (form.password.value !== form.password2.value) {\n        document.getElementById('alert_password2').innerText = \"Password and password2 is not match.\";\n        form.password.style.border = '2px solid';\n        form.password.style.borderColor = '#FF0000';\n        document.getElementById('alert_password').style.color = '#FF0000';\n        return false;\n    }\n\n    return true;\n}\n  \n  \n  return (\n    <div id=\"container\" className=\"main_container\">\n\t\t  {isLogIn?(<Login resister={toResister} checkLogIn={checkLogIn}/>):(<Resister resister={toResister} checkLogIn={checkLogIn}/>)}\n                \n            </div>\n  )\n}\n\n\n\n\nconst Resister = ({resister, checkLogIn}) => {\n\n\nconst onSubmit = async (event) => {\n    event.preventDefault();\n\t   \t const form = document.login_form;\n\tconst email = form.email.value;\n\tconst password = form.password.value;\n\t if(checkLogIn()){\n\t let data;\n\t\t try {\n        data = await authService.createUserWithEmailAndPassword(email, password);\n    } catch (error) {\n      console.log(error.message);\n    }\n\t }\n  }\n\n return(\n <>\n \t<div style={{padding:\" 30p\"}}></div>\n                <form name=\"login_form\" action=\"/cookie\" method=\"get\">\n                    \n                    <div className=\"form_title_div\">\n                        <p className=\"form_title_p\">회원가입</p>\n                    </div>\n                    \n                     <div>\n                        <div>\n                            <input type=\"text\" name=\"confirm_code\" placeholder=\"인증 코드\" className=\"re-form_input\"/>\n                        </div>\n                        <div className=\"form_text_alert_padding\">\n                            <div id=\"alert_code\" className=\"form_text_alert\"></div>\n                        </div>\n                    </div>\n                    \n                    <div>\n                        <div>\n                            <input type=\"text\" name=\"email\" placeholder=\"아이디\" className=\"re-form_input\"/>\n                        </div>\n                        <div className=\"form_text_alert_padding\">\n                            <div id=\"alert_email\" className=\"form_text_alert\"></div>\n                        </div>\n                    </div>\n                    \n                    <div>\n                        <div>\n                            <input type=\"password\" name=\"password\" placeholder=\"비밀번호\" className=\"re-form_input\" />\n                        </div>\n                        <div className=\"form_text_alert_padding\">\n                            <div id=\"alert_password\" className=\"form_text_alert\"></div>\n                        </div>\n                    </div>\n                    <div>\n                        <div>\n                            <input type=\"password\" name=\"password2\" placeholder=\"비밀번호 재입력\" className=\"re-form_input\" />\n                        </div>\n                        <div className=\"form_text_alert_padding\">\n                            <div id=\"alert_password2\" className=\"form_text_alert\"></div>\n                        </div>\n                    </div>\n                    \n                    <div style={{height: \"10px\"}}></div>\n                    <div>\n                        <button type=\"button\" className=\"form_submitregister_button\" onClick={onSubmit}>회원가입</button>\n                    </div>\n                    <div style={{height: \"10px\"}}></div>\n\t\t\t\t\t\t  <div>\n                        <button type=\"button\" className=\"form_register_button\" onClick={resister}>로그인</button>\n                    </div>\n                </form>\n\t\t\t\t\t </>\n )\n}\n\n\n\nconst Login = ({resister,checkLogIn}) => {\n\tconst [id, setId] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n\tconst onSubmit = async (event) => {\n    event.preventDefault();\n    let data;\n    try {\n      let data;\n      data = await authService.signInWithEmailAndPassword(id, password);\n    } catch (error) {\n      console.log(error.message);\n      setError(error.message);\n    }\n  }\n  \n  const onChange = (event) => {\n    const { target: { name, value } } = event;\n    if (name === \"email\") {\n      setId(value)\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n  }\n\n\treturn(\n\t<>\n        <div style={{padding: \"70px\"}}></div>\n\t\t<form name=\"login_form\" submit={onSubmit}>\n                    \n                    <div className=\"form_title_div\">\n                        <p className=\"form_title_p\">로그인</p>\n                    </div>\n                    \n                    <div>\n                        <div>\n                            <input type=\"text\" name=\"email\" value={id} placeholder=\"아이디\" className=\"form_input\" onChange={onChange}/>\n                        </div>\n                        <div className=\"form_text_alert_paddings\">\n                            <div id=\"alert_email\" className=\"form_text_alert\"></div>\n                        </div>\n                    </div>\n                    \n                    <div>\n                        <div>\n                            <input type=\"password\" name=\"password\" value={password} placeholder=\"비밀번호\" className=\"form_input\" onChange={onChange}/>\n                        </div>\n                        <div className=\"form_text_alert_padding\">\n                            <div id=\"alert_password\" className=\"form_text_alert\"></div>\n                        </div>\n                    </div>\n                    \n                    <div style={{height: \"10px\"}}></div>\n                    <div>\n                        <button type=\"button\" className=\"form_submit_button\" onClick={onSubmit}>로그인</button>\n                    </div>\n                    \n                    <div style={{height: \"10px\"}}></div>\n                    <div>\n                        <button type=\"button\" className=\"form_register_button\" onClick={resister}>회원가입</button>\n                    </div>\n                    \n                    <div style={{height: \"10px\"}}></div>\n                    <div>\n                        <button type=\"button\" className=\"form_findpasswd_button\" >비밀번호 찾기</button>\n                    </div>\n                    \n                </form>\n\t\t</>)\n}"]},"metadata":{},"sourceType":"module"}